/* Keep everything scoped to the account page */
.wrap {
  position: relative;
}

/* Hide Clerk’s internal navbar/hamburger */
.wrap
  :global(
    .cl-userProfile-root
      :is(
        .cl-navbar,
        .cl-navbarMobileMenuButton,
        .cl-navbarMobileMenu,
        [class*="navbar"]
      )
  ),
.wrap
  :global(
    .cl-userProfile
      :is(
        .cl-navbar,
        .cl-navbarMobileMenuButton,
        .cl-navbarMobileMenu,
        [class*="navbar"]
      )
  ) {
  display: none !important;
}

/* Make the card a single-column layout and center it */
.wrap :global(.cl-userProfile-root .cl-card),
.wrap :global(.cl-userProfile .cl-card) {
  margin-left: auto !important;
  margin-right: auto !important;
  width: 100% !important;
  max-width: 720px !important;

  /* ✅ kill the leftover 2-col grid and use a vertical flow */
  display: flex !important;
  flex-direction: column !important;
}

/* Let main content flex, so the footer can sit at the bottom */
.wrap :global(.cl-userProfile-root .cl-content),
.wrap :global(.cl-userProfile .cl-content) {
  flex: 1 1 auto !important;
}

/* ✅ OEM footer: full width, bottom, centered */
.wrap :global(.cl-userProfile-root .cl-footer),
.wrap :global(.cl-userProfile .cl-footer) {
  order: 999 !important; /* ensure it's last in flow */
  margin-top: auto !important; /* push to bottom of the card */
  width: 100% !important; /* span the card width */
  align-self: stretch !important;
  text-align: center;

  /* in case any grid rules still apply from Clerk’s CSS */
  grid-column: 1 / -1 !important;
  position: static !important;
}

/* Mobile/desktop scroll behavior (same as you had) */
.accountScrollbox {
  height: calc(
    100dvh - var(--app-topbar-h, 56px) - var(--account-tabs-h, 40px) -
      env(safe-area-inset-bottom, 0px) - var(--account-scroll-gap, 12px)
  ) !important;
  scrollbar-gutter: stable both-edges;
}
@media (min-width: 768px) {
  .accountScrollbox {
    height: auto !important;
    max-height: none !important;
    overflow: visible !important;
  }
}

/* Optional: square-ish scrollbars for the page scrollbox (scoped) */
.wrap
  :global(
    .cl-userProfile-root :is(.cl-pageScrollBox, [class*="pageScrollBox"])
  )::-webkit-scrollbar,
.wrap
  :global(
    .cl-userProfile :is(.cl-pageScrollBox, [class*="pageScrollBox"])
  )::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}
.wrap
  :global(
    .cl-userProfile-root :is(.cl-pageScrollBox, [class*="pageScrollBox"])
  )::-webkit-scrollbar-thumb,
.wrap
  :global(
    .cl-userProfile :is(.cl-pageScrollBox, [class*="pageScrollBox"])
  )::-webkit-scrollbar-thumb {
  border-radius: 0 !important;
  background-clip: padding-box;
  border: 3px solid transparent;
}
.wrap
  :global(
    .cl-userProfile-root :is(.cl-pageScrollBox, [class*="pageScrollBox"])
  )::-webkit-scrollbar-track,
.wrap
  :global(
    .cl-userProfile :is(.cl-pageScrollBox, [class*="pageScrollBox"])
  )::-webkit-scrollbar-track {
  border-radius: 0 !important;
}
.wrap
  :global(
    .cl-userProfile-root :is(.cl-pageScrollBox, [class*="pageScrollBox"])
  ),
.wrap
  :global(.cl-userProfile :is(.cl-pageScrollBox, [class*="pageScrollBox"])) {
  scrollbar-width: auto;
}

/* Make Clerk layout truly fluid on small widths */
.wrap :global(.cl-userProfile-root .cl-card),
.wrap :global(.cl-userProfile .cl-card),
.wrap :global(.cl-userProfile-root .cl-content),
.wrap :global(.cl-userProfile .cl-content),
.wrap :global(.cl-userProfile-root .cl-page),
.wrap :global(.cl-userProfile .cl-page),
.wrap :global(.cl-userProfile-root .cl-pageScrollBox),
.wrap :global(.cl-userProfile .cl-pageScrollBox) {
  min-width: 0 !important; /* allow flex children to shrink */
  max-width: 100% !important; /* never overflow the viewport */
  width: 100% !important;
}

/* Kill any surprise horizontal overflow */
.wrap :global(.cl-userProfile-root .cl-card),
.wrap :global(.cl-userProfile .cl-card) {
  overflow-x: hidden !important;
  box-sizing: border-box;
}

/* Inputs/sections sometimes carry a fixed min-width in themes */
.wrap :global(.cl-formField),
.wrap :global(.cl-formFieldInput),
.wrap :global(.cl-profileSectionContent),
.wrap :global(.cl-scrollBox) {
  max-width: 100% !important;
  min-width: 0 !important;
}

/* Hide "Secured by Clerk" on mobile only */
@media (max-width: 767.98px) {
  .wrap :global(.cl-userProfile-root .cl-footer),
  .wrap :global(.cl-userProfile .cl-footer) {
    display: none !important;
  }

  /* Fallback: if the badge isn’t inside .cl-footer on some builds */
  .wrap :global(.cl-userProfile-root a[href*="clerk.com"]),
  .wrap :global(.cl-userProfile a[href*="clerk.com"]) {
    display: none !important;
  }
}

/* Remove the hard 720px cap on desktop; make width track the window */
@media (min-width: 768px) {
  .wrap :global(.cl-userProfile-root .cl-card),
  .wrap :global(.cl-userProfile .cl-card) {
    max-width: clamp(640px, calc(100vw - 2rem), 1280px) !important;
    width: 100% !important;
    box-sizing: border-box;
  }
}
